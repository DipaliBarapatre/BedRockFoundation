<div class="jquery_tab">

    <div class="content_block">
		<div id="filter_links">
    	<a href="/schedule/?until=-2.w">previous 2 weeks</a> | 
    	<a href="/schedule/" style="color: #f90; font-weight: bold;">TODAY + 2 weeks</a> | 
    	<a href="/schedule/?until=2.w">2 - 3 weeks out</a> | 
    	<a href="/schedule/?until=4.w">4 - 5 weeks out</a> | 
    	<a href="/schedule/?until=8.w">6 - 7 weeks out</a> | 
    	<a href="/schedule/?until=10.w">8 - 9 weeks out</a> |
    	<a href="/schedule/?until=12.w">10 - 11 weeks out</a> |
    	<a href="/schedule/?until=14.w">12 - 13 weeks out</a>  
    	</div>
	

			<div id="today-marker"></div>
			<% ((@query_start_date)..(@query_start_date + 2.weeks)).each do |day| %>
				<%= render :partial => "day_table", :locals => {:day => day} %>
			<% end %>
		<% u = params[:until].split(".").first.to_i rescue 0 %>
		<div style="font-size: 2em; margin-bottom: 40px;"><a href="/schedule/?until=<%= u + 2 %>.w">Show me the next 2 weeks &raquo;</a>  </div>
	    
    </div>
</div>


<%= render :partial => "queued_contracts" %>

<%= content_for :js_bottom do %>
	<%= render :partial => 'persistence' %>
<% end %>

<script type="text/javascript">
	$(document).ready(function() {
		$("#show-previous-button").click(function() {
			$("#show-previous-button").hide();
			$("#hide-previous-button").show();
			$(".previous-calendar").slideDown('slow', function() {
				location.hash = "#today-marker";
			});			
		})
		
		$("#hide-previous-button").click(function() {
			$(".previous-calendar").slideUp();
			$("#show-previous-button").show();
			$("#hide-previous-button").hide();
		})
	})
</script>